<template name="views_modals_transactionInfo">
    {{#with transaction}}
        <h1>
            {{i18n "wallet.transactions.transactionInfoTitle"}}
            {{#if $eq ($.Session.get "network") "main"}}
                <a href="https://explorer.web.sero.cash/txsInfo.html?hash={{transactionHash}}" target="_blank" style="font-size: 0.4em;">{{transactionHash}}</a>
            {{else}}
                {{#if $eq ($.Session.get "network") "alpha"}}
                    <a href="http://118.25.146.113/txsInfo.html?hash={{transactionHash}}" target="_blank" style="font-size: 0.4em;">{{transactionHash}}</a>
                {{else}}
                    {{#if $eq ($.Session.get "network") "beta"}}
                        <a href="https://explorer.web.sero.cash/txsInfo.html?hash={{transactionHash}}" target="_blank" style="font-size: 0.4em;">{{transactionHash}}</a>
                    {{else}}
                        <span style="font-size: 0.4em;">{{transactionHash}}</span>
                    {{/if}}
                {{/if}}
            {{/if}}

        </h1>

        {{#if outOfGas}}
        <h3 class="orange">
            <i class="icon-shield"></i> {{i18n 'wallet.transactions.outOfGasDesc'}}
        </h3>
        {{/if}}

        <p>
            {{formatTime timestamp "LLLL"}}
            <br>
            <small>({{formatTime timestamp "fromNow"}}{{#if $lt confirmations 10000}}, <strong>{{dapp_formatNumber confirmations "0,0"}}</strong> {{i18n "wallet.transactions.confirmations"}}{{/if}})</small>
        </p>

        <table class="dapp-zebra">
            <!-- <thead>

            </thead> -->
            <tbody>
                <tr>
                    <td>{{i18n "wallet.transactions.amount"}}</td>
                    <td>
                       {{#if tokenId}}
                            {{tokenValue}}
                        {{else}}
                            {{#if currency}}
                                {{tknValue}} {{currency}}
                            {{else}}
                                {{formatTransactionBalance value exchangeRates}}
                                {{#if $neq unit 'SERO'}}
                                    <br>
                                    <small>
                                        ({{dapp_formatBalance value "0,0.00[000000] UNIT" "sero"}})
                                    </small>
                                {{/if}}
                            {{/if}}
                        {{/if}}
                    </td>
                </tr>
                <tr>
                    <td>{{i18n "wallet.transactions.from"}}</td>
                    <td>
                        {{> elements_account_link address=from}}<br/>
                        <small>{{shortenAddress from }}</small>
                    </td>
                </tr>
                <tr>
                    <td>{{i18n "wallet.transactions.to"}}</td>
                    <td>
                        {{#if to}}
                            {{> elements_account_link address=to}}<br/>
                            <small>{{shortenAddress to }}</small>
                        {{else}}
                            {{> elements_createdContractAt contractAddress=contractAddress deployedData=deployedData}}
                        {{/if}}
                    </td>
                </tr>
                <tr>
                    <td>{{i18n "wallet.transactions.feePaid"}}</td>
                    <td>{{dapp_formatBalance txFee "0,0.[000000000000000000] UNIT" "sero"}}</td>
                </tr>
                <tr>
                    <td>{{i18n "wallet.transactions.gasUsed"}}</td>
                    <td>{{dapp_formatNumber gasUsed "0,0."}}</td>
                </tr>
                <tr>
                    <td>{{i18n "wallet.transactions.gasPrice"}}</td>
                    <td>{{dapp_formatBalance gasPricePerMillion "0,0.[000000000000000000] UNIT" "gta"}} ({{dapp_formatBalance gasPricePerMillion "0,0.[000000000000000000] UNIT" "sero"}} )</td>
                </tr>
                {{#if blockHash}}
                    <tr>
                        <td>{{i18n "wallet.transactions.block"}}</td>
                        <td>
                            <a href="https://explorer.web.sero.cash/blockInfo.html?hash={{blockHash}}" title="{{blockHash}}" target="_blank" class="dapp-shorten-text">
                                {{blockNumber}}
                                <br>
                                {{blockHash.substr 0 40}}...
                            </a>
                        </td>
                    </tr>
                {{/if}}
                {{#if deployedData}}
                    <tr>
                        <td>{{i18n "wallet.transactions.deployedData"}}</td>
                        <td>
                            <pre>{{deployedData}}</pre>
                        </td>
                    </tr>
                {{/if}}
                {{#if data}}
                    <tr>
                        <td>{{i18n "wallet.transactions.data"}}</td>
                        <td>
                            <pre>{{data}}</pre>
                        </td>
                    </tr>
                {{/if}}
            </tbody>
        </table>
    {{/with}}
</template>
